{"ast":null,"code":"import _objectSpread from\"D:/js/resturent/connect/spoffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/js/resturent/connect/spoffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/js/resturent/connect/spoffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/js/resturent/connect/spoffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"D:/js/resturent/connect/spoffy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18;import Add from\"@mui/icons-material/Add\";import Remove from\"@mui/icons-material/Remove\";import styled from\"styled-components\";import Announcement from\"../components/Announcement\";import Footer from\"../components/Footer\";import Navbar from\"../components/Navbar\";import Newsletter from\"../components/Newsletter\";import{useRef,useState}from\"react\";import{useLocation}from\"react-router\";import axios from\"axios\";import{useEffect}from\"react\";import{publicRequest}from\"../requestMethod\";import{addProduct}from\"../redux/cartRedux\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 50px;\\n  display: flex;\\n\"])));var ImgContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));var Image=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 90vh;\\n\\n\"])));var InfoContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 0px 50px;\\n\\n\"])));var Title=styled.h1(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-weight: 200;\\n\"])));var Desc=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin: 20px 0px;\\n\"])));var Price=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-weight: 100;\\n  font-size: 40px;\\n\"])));var FilterContainer=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  margin: 30px 0px;\\n  display: flex;\\n  justify-content: space-between;\\n\\n\"])));var Filter=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));var FilterTitle=styled.span(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  font-weight: 200;\\n\"])));var FilterColor=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  margin: 0px 5px;\\n  cursor: pointer;\\n\"])),function(props){return props.color;});var FilterSize=styled.select(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n  padding: 5px;\\n\"])));var FilterSizeOption=styled.option(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\"])));var AddContainer=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\\n\"])));var AmountContainer=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  font-weight: 700;\\n\"])));var Amount=styled.span(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 10px;\\n  border: 1px solid teal;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0px 5px;\\n\"])));var Button=styled.button(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  border: 2px solid teal;\\n  background-color: white;\\n  cursor: pointer;\\n  font-weight: 500;\\n  border-radius:10px;\\n  &:hover{\\n      background-color:orange ;\\n  }\\n\"])));var SingleProduct=function SingleProduct(){var _product$size;var location=useLocation();var id=location.pathname.split(\"/\")[2];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),size=_useState6[0],setSize=_useState6[1];var dispatch=useDispatch();var handleQuantity=function handleQuantity(type){if(type===\"dec\"){quantity>1&&setQuantity(quantity-1);}else{setQuantity(quantity+1);}};useEffect(function(){var getProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return publicRequest.get(\"/products/find/\"+id);case 3:res=_context.sent;setProduct(res.data);console.log(res);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProduct(){return _ref.apply(this,arguments);};}();getProduct();},[id]);//console.log(product)\nvar handleClick=function handleClick(){dispatch(addProduct(_objectSpread(_objectSpread({},product),{},{quantity:quantity,size:size})));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Announcement,{}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgContainer,{children:/*#__PURE__*/_jsx(Image,{src:product.img})}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(Title,{children:product.title}),/*#__PURE__*/_jsx(Desc,{children:product.desc}),/*#__PURE__*/_jsx(Price,{children:product.price}),/*#__PURE__*/_jsx(FilterContainer,{children:/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(FilterTitle,{children:product.size}),/*#__PURE__*/_jsx(FilterSize,{children:(_product$size=product.size)===null||_product$size===void 0?void 0:_product$size.map(function(s){return/*#__PURE__*/_jsx(FilterSizeOption,{onChange:function onChange(e){return setSize(e.target.value);},children:s},s);})})]})}),/*#__PURE__*/_jsxs(AddContainer,{children:[/*#__PURE__*/_jsxs(AmountContainer,{children:[/*#__PURE__*/_jsx(Remove,{onClick:function onClick(){return handleQuantity(\"dec\");}}),/*#__PURE__*/_jsx(Amount,{children:quantity}),/*#__PURE__*/_jsx(Add,{onClick:function onClick(){return handleQuantity(\"inc\");}})]}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,children:\"ADD TO CART\"})]})]})]}),/*#__PURE__*/_jsx(Newsletter,{}),/*#__PURE__*/_jsx(Footer,{})]});};export default SingleProduct;","map":{"version":3,"sources":["D:/js/resturent/connect/spoffy/src/pages/SingleProduct.jsx"],"names":["Add","Remove","styled","Announcement","Footer","Navbar","Newsletter","useRef","useState","useLocation","axios","useEffect","publicRequest","addProduct","useDispatch","Container","div","Wrapper","ImgContainer","Image","img","InfoContainer","Title","h1","Desc","p","Price","span","FilterContainer","Filter","FilterTitle","FilterColor","props","color","FilterSize","select","FilterSizeOption","option","AddContainer","AmountContainer","Amount","Button","button","SingleProduct","location","id","pathname","split","quantity","setQuantity","product","setProduct","size","setSize","dispatch","handleQuantity","type","getProduct","get","res","data","console","log","handleClick","title","desc","price","map","s","e","target","value"],"mappings":"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","sourcesContent":["import Add from \"@mui/icons-material/Add\";\r\nimport Remove from \"@mui/icons-material/Remove\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport { useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { publicRequest } from \"../requestMethod\";\r\nimport { addProduct } from \"../redux/cartRedux\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 90vh;\r\n\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  padding: 0px 50px;\r\n\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 200;\r\n`;\r\n\r\nconst Desc = styled.p`\r\n  margin: 20px 0px;\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-weight: 100;\r\n  font-size: 40px;\r\n`;\r\n\r\nconst FilterContainer = styled.div`\r\n  width: 50%;\r\n  margin: 30px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n`;\r\n\r\nconst Filter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst FilterTitle = styled.span`\r\n  font-size: 20px;\r\n  font-weight: 200;\r\n`;\r\n\r\nconst FilterColor = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => props.color};\r\n  margin: 0px 5px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst FilterSize = styled.select`\r\n  margin-left: 10px;\r\n  padding: 5px;\r\n`;\r\n\r\nconst FilterSizeOption = styled.option``;\r\n\r\nconst AddContainer = styled.div`\r\n  width: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n`;\r\n\r\nconst AmountContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst Amount = styled.span`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 10px;\r\n  border: 1px solid teal;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0px 5px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 15px;\r\n  border: 2px solid teal;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  border-radius:10px;\r\n  &:hover{\r\n      background-color:orange ;\r\n  }\r\n`;\r\n\r\nconst SingleProduct = () => {\r\n  const location = useLocation();\r\n  const id = (location.pathname.split(\"/\")[2]);\r\n  const [quantity, setQuantity] = useState(0)\r\n\r\n  const [product, setProduct] = useState({});\r\n  const [size, setSize] = useState(\"\")\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleQuantity = (type) => {\r\n    if (type === \"dec\") {\r\n      quantity > 1 && setQuantity(quantity - 1);\r\n    } else {\r\n      setQuantity(quantity + 1);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products/find/\" + id)\r\n        setProduct(res.data);\r\n        console.log(res);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }; getProduct();\r\n  }, [id])\r\n  //console.log(product)\r\n\r\n  const handleClick = () => {\r\n    dispatch(\r\n      addProduct({ ...product, quantity, size })\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <Container>\r\n      <Navbar />\r\n      <Announcement />\r\n      <Wrapper>\r\n        <ImgContainer>\r\n          <Image src={product.img} />\r\n        </ImgContainer>\r\n        <InfoContainer>\r\n          <Title>{product.title}</Title>\r\n          <Desc>\r\n            {product.desc}\r\n          </Desc>\r\n          <Price>{product.price}</Price>\r\n          <FilterContainer>\r\n            <Filter>\r\n              <FilterTitle>{product.size}</FilterTitle>\r\n              <FilterSize>\r\n                {product.size?.map((s) => (\r\n                  <FilterSizeOption key={s} onChange={(e) => setSize(e.target.value)}>{s}</FilterSizeOption>\r\n                ))}\r\n              </FilterSize>\r\n            </Filter>\r\n          </FilterContainer>\r\n          <AddContainer>\r\n            <AmountContainer>\r\n              <Remove onClick={() => handleQuantity(\"dec\")} />\r\n              <Amount>{quantity}</Amount>\r\n              <Add onClick={() => handleQuantity(\"inc\")} />\r\n            </AmountContainer>\r\n            <Button onClick={handleClick}>ADD TO CART</Button>\r\n          </AddContainer>\r\n        </InfoContainer>\r\n      </Wrapper>\r\n      <Newsletter />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;"]},"metadata":{},"sourceType":"module"}